version: "3"
services:
  api:
   build:
    context: .
    dockerfile: ./api/
   restart: unless-stopped
   container_name: api
   volumes:
     - ./.env:/opt/app/.env
   networks:
    - myNetwork
   depends_on:
     - rmq
  rmq:
   image: rabbitmq:3-management
   restart: unless-stopped
   networks:
    - myNetwork
   environment:
    - RABBITMQ_DEFAULT_USER=admin
    - RABBITMQ_DEFAULT_PASSWORD=admin

networks:
  myNetwork:
   driver: bridge